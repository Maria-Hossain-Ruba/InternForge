@{
    ViewData["Title"] = "Student Dashboard";
}

<header class="if-navbar">
    <div class="if-navbar-inner">
        <div class="if-navbar-left">
            <div class="if-navbar-logo">
                <img src="~/images/internforge-logo.svg" alt="InternForge logo" class="if-logo-img" />
            </div>
            <div class="if-navbar-title">
                <span class="if-navbar-title-main">InternForge</span>
                <span class="if-navbar-title-sub">Student Workspace</span>
            </div>
        </div>

        <div class="if-navbar-center">
            <nav class="if-navbar-links">
                <a href="#" class="if-navbar-link if-navbar-link-active">Dashboard</a>
                <a href="#" class="if-navbar-link">Browse Projects</a>
                <a href="#" class="if-navbar-link">My Applications</a>
                <a href="#" class="if-navbar-link">Portfolio</a>
            </nav>
        </div>

        <div class="if-navbar-right">
            <span class="if-navbar-pill">Student</span>
            <div class="if-navbar-name">
                <span class="if-navbar-name-main">Niruba</span>
                <span class="if-navbar-name-sub">Level 1 Intern</span>
            </div>
            <div class="if-navbar-avatar">N</div>
        </div>
    </div>
</header>

<main class="if-layout">
    <aside class="if-sidebar">
        <div class="if-sidebar-header">
            <span class="if-sidebar-label">Menu</span>
            <span class="if-sidebar-status-pill">Profile 64% complete</span>
        </div>

        <div class="if-sidebar-menu">
            <div class="if-sidebar-item if-sidebar-item-active" data-if-nav="overview">
                <div class="if-sidebar-item-icon">🏠</div>
                <span>Overview</span>
            </div>
            <div class="if-sidebar-item" data-if-nav="projects">
                <div class="if-sidebar-item-icon">📂</div>
                <span>My Projects</span>
            </div>
            <div class="if-sidebar-item" data-if-nav="applications">
                <div class="if-sidebar-item-icon">📨</div>
                <span>Applications</span>
            </div>
            <div class="if-sidebar-item" data-if-nav="portfolio">
                <div class="if-sidebar-item-icon">🎓</div>
                <span>Portfolio</span>
            </div>
            <div class="if-sidebar-item" data-if-nav="settings">
                <div class="if-sidebar-item-icon">⚙️</div>
                <span>Settings</span>
            </div>
        </div>

        <div class="if-sidebar-separator"></div>

        <p class="if-sidebar-footnote">
            Tip: complete your <span>skills &amp; bio</span> to get matched with
            more SME projects, just like a freelancing marketplace.
        </p>
    </aside>

    <section class="if-main">
        <div class="if-main-header">
            <div class="if-main-title">
                <h1 class="if-main-title-heading">Welcome back, Niruba 👋</h1>
                <p class="if-main-title-sub">
                    You have <span>2 active internships</span> and
                    <span>3 open applications</span>. Keep building your InternForge
                    reputation.
                </p>
            </div>
            <div class="if-main-actions">
                <button class="if-button-ghost" id="if-btn-toggle-recommend">
                    🔁 Refresh matches
                </button>
                <button class="if-button-primary">
                    ✨ Find new project
                </button>
            </div>
        </div>

        <div class="if-stats-row">
            <div class="if-stat-card">
                <div class="if-stat-label">Active projects</div>
                <div class="if-stat-main">
                    <span class="if-stat-number">2</span>
                    <span class="if-stat-pill">In progress</span>
                </div>
                <span class="if-stat-trend">+1 this week</span>
            </div>

            <div class="if-stat-card">
                <div class="if-stat-label">Applications</div>
                <div class="if-stat-main">
                    <span class="if-stat-number">5</span>
                    <span class="if-stat-pill if-stat-tag-muted">3 pending</span>
                </div>
                <span class="if-stat-trend">Response rate 64%</span>
            </div>

            <div class="if-stat-card">
                <div class="if-stat-label">Portfolio items</div>
                <div class="if-stat-main">
                    <span class="if-stat-number">7</span>
                    <span class="if-stat-pill if-stat-tag-muted">Verified</span>
                </div>
                <span class="if-stat-trend">+3 this month</span>
            </div>

            <div class="if-stat-card">
                <div class="if-stat-label">Rating</div>
                <div class="if-stat-main">
                    <span class="if-stat-number">4.8★</span>
                    <span class="if-stat-pill">Pro-ready</span>
                </div>
                <span class="if-stat-trend">Great SME feedback</span>
            </div>
        </div>

        <div class="if-main-grid">
            <div class="if-panel">
                <div class="if-panel-header">
                    <div>
                        <div class="if-panel-title">Active projects</div>
                        <div class="if-panel-sub">
                            SME internships you’re currently working on
                        </div>
                    </div>
                    <div class="if-chip-row">
                        <button class="if-chip if-chip-active" data-if-filter="all">All</button>
                        <button class="if-chip" data-if-filter="dev">Development</button>
                        <button class="if-chip" data-if-filter="design">Design</button>
                        <button class="if-chip" data-if-filter="marketing">Marketing</button>
                    </div>
                </div>

                <div class="if-list" id="if-active-projects-list">
                    <article class="if-list-item" data-if-category="dev">
                        <div>
                            <div class="if-list-main-title">AI-powered Resume Screener</div>
                            <div class="if-list-main-sub">
                                CodeTag Labs • Remote • 4 weeks
                            </div>
                            <div class="if-list-tags">
                                <span class="if-tag if-tag-soft">C# / .NET</span>
                                <span class="if-tag">REST APIs</span>
                                <span class="if-tag">SQL Server</span>
                            </div>
                        </div>
                        <div class="if-list-meta">
                            <span>Next milestone: <b>API integration</b></span>
                            <span class="if-list-meta-highlight">Due in 3 days</span>
                        </div>
                        <div class="if-list-actions">
                            <span class="if-list-badge">Progress: 72%</span>
                            <a href="#" class="if-link-inline">Open workspace →</a>
                        </div>
                    </article>

                    <article class="if-list-item" data-if-category="design">
                        <div>
                            <div class="if-list-main-title">Landing Page for EdTech Startup</div>
                            <div class="if-list-main-sub">
                                BrightPath Academy • Hybrid • 2 weeks
                            </div>
                            <div class="if-list-tags">
                                <span class="if-tag if-tag-soft">Figma</span>
                                <span class="if-tag">UX writing</span>
                                <span class="if-tag">Responsive UI</span>
                            </div>
                        </div>
                        <div class="if-list-meta">
                            <span>Current stage: Deliverable review</span>
                            <span class="if-list-meta-highlight">
                                Waiting for SME feedback
                            </span>
                        </div>
                        <div class="if-list-actions">
                            <span class="if-list-badge">Progress: 91%</span>
                            <a href="#" class="if-link-inline">View files →</a>
                        </div>
                    </article>
                </div>

                <div class="if-panel-header">
                    <div>
                        <div class="if-panel-title">Recent applications</div>
                        <div class="if-panel-sub">
                            Track where you’ve applied across SMEs
                        </div>
                    </div>
                    <a href="#" class="if-link-inline">View all →</a>
                </div>

                <div class="if-list">
                    <article class="if-list-item">
                        <div>
                            <div class="if-list-main-title">
                                Social Media Insights Dashboard
                            </div>
                            <div class="if-list-main-sub">
                                PixelSpark Studio • Data &amp; Analytics
                            </div>
                            <div class="if-list-tags">
                                <span class="if-tag if-tag-soft">Power BI</span>
                                <span class="if-tag">Excel</span>
                                <span class="if-tag">Data viz</span>
                            </div>
                        </div>
                        <div class="if-list-meta">
                            <span>Status: <b>Reviewing</b></span>
                            <span>Applied 2 days ago</span>
                        </div>
                        <div class="if-list-actions">
                            <span class="if-list-badge">Est. 3-week sprint</span>
                            <a href="#" class="if-link-inline">View application →</a>
                        </div>
                    </article>
                </div>
            </div>

            <aside class="if-panel">
                <div class="if-panel-highlight">
                    <div class="if-panel-highlight-title">
                        Profile completeness
                    </div>
                    <div class="if-panel-highlight-text">
                        Add 3 more skills and upload 1 portfolio project to increase
                        your chances of getting shortlisted, like on Fiverr or Upwork.
                    </div>
                    <div class="if-progress-track">
                        <div class="if-progress-fill"></div>
                    </div>
                    <div class="if-progress-label-row">
                        <span>64% complete</span>
                        <span>Next: upload case study</span>
                    </div>
                </div>

                <div class="if-panel-header">
                    <div>
                        <div class="if-panel-title">Recommended for you</div>
                        <div class="if-panel-sub">
                            Smart matches based on your skills
                        </div>
                    </div>
                    <span class="if-pill-soft">Beta</span>
                </div>

                <div class="if-reco-list" id="if-reco-list">
                    <article class="if-reco-card">
                        <div class="if-reco-title">
                            Internship – ASP.NET Core Project Marketplace
                        </div>
                        <div class="if-reco-meta">
                            <span>SME: DevBridge Hub</span>
                            <span>Stipend: ₹4,000</span>
                        </div>
                        <div class="if-reco-badges">
                            <span class="if-pill-soft">ASP.NET Core</span>
                            <span class="if-pill-soft">Entity Framework</span>
                        </div>
                        <a href="#" class="if-link-inline">View project details →</a>
                    </article>

                    <article class="if-reco-card">
                        <div class="if-reco-title">
                            Micro-SaaS Admin Dashboard UI
                        </div>
                        <div class="if-reco-meta">
                            <span>SME: Aurora Labs</span>
                            <span>1–2 weeks</span>
                        </div>
                        <div class="if-reco-badges">
                            <span class="if-pill-soft">UI Design</span>
                            <span class="if-pill-soft">CSS</span>
                        </div>
                        <a href="#" class="if-link-inline">Save to wishlist →</a>
                    </article>

                    <article class="if-reco-card">
                        <div class="if-reco-title">
                            Email Automation Scripts for HR Team
                        </div>
                        <div class="if-reco-meta">
                            <span>SME: PeopleFlow</span>
                            <span>Remote • Part-time</span>
                        </div>
                        <div class="if-reco-badges">
                            <span class="if-pill-soft">C#</span>
                            <span class="if-pill-soft">SMTP / APIs</span>
                        </div>
                        <a href="#" class="if-link-inline">Apply in 2 clicks →</a>
                    </article>
                </div>
            </aside>
        </div>
    </section>
</main>

@section Scripts {
    <script>
        // Sidebar active state
        document.querySelectorAll(".if-sidebar-item").forEach(function (item) {
            item.addEventListener("click", function () {
                document.querySelectorAll(".if-sidebar-item")
                    .forEach(function (i) { i.classList.remove("if-sidebar-item-active"); });
                item.classList.add("if-sidebar-item-active");
            });
        });

        // Filter active projects by category
        const ifFilterButtons = document.querySelectorAll(".if-chip");
        const ifProjectCards = document.querySelectorAll("#if-active-projects-list .if-list-item");

        ifFilterButtons.forEach((btn) => {
            btn.addEventListener("click", () => {
                const selected = btn.getAttribute("data-if-filter");
                ifFilterButtons.forEach((b) => b.classList.remove("if-chip-active"));
                btn.classList.add("if-chip-active");

                ifProjectCards.forEach((card) => {
                    const category = card.getAttribute("data-if-category");
                    card.style.display = (selected === "all" || selected === category) ? "grid" : "none";
                });
            });
        });

        // Simple shuffle for recommended projects when clicking refresh
        const ifRecoContainer = document.getElementById("if-reco-list");
        const ifRecoButton = document.getElementById("if-btn-toggle-recommend");

        ifRecoButton.addEventListener("click", () => {
            const cards = Array.from(ifRecoContainer.querySelectorAll(".if-reco-card"));
            cards.sort(() => Math.random() - 0.5);
            cards.forEach((card) => ifRecoContainer.appendChild(card));
            ifRecoButton.textContent = "✨ Matches refreshed";
            setTimeout(() => {
                ifRecoButton.textContent = "🔁 Refresh matches";
            }, 1500);
        });
    </script>
}
